<mat-expansion-panel
    class="category"
    [ngClass]="{ 'category--open': category.isOpened }"
    (opened)="onCategoryPanelClick(true)"
    (closed)="onCategoryPanelClick(false)">
    <mat-expansion-panel-header>
        <mat-panel-title>
            {{ category.name }}
        </mat-panel-title>
        <div class="category--progress">
            <span
                >{{ 'toDoList.progress' | translate }}
                {{ progress | number: '1.0-0' }}%</span
            >
            <mat-progress-bar
                class="category--progress-bar"
                color="primary"
                mode="determinate"
                [value]="progress">
            </mat-progress-bar>
        </div>
    </mat-expansion-panel-header>

    <button mat-raised-button color="primary" (click)="openDialog()">
        <mat-icon>add</mat-icon>
        <span>
            {{ 'toDoList.addTask' | translate }}
        </span>
    </button>

    <wp-table-element
        *ngFor="let task of category.tasks"
        [task]="task"
        [categoryId]="category.id"></wp-table-element>
</mat-expansion-panel>
